---
interface Props {
    member: {
        name: string;
        role?: string;
        role_es?: string;
        role_en?: string;
        image: string;
        bio: string;
        affiliation: string;
    };
    locale?: string;
}

const { member, locale = "es" } = Astro.props;
const isEs = locale === "es";
const role =
    member.role_es && member.role_en
        ? isEs
            ? member.role_es
            : member.role_en
        : member.role;
---

<div class="group relative flex flex-col items-center">
    <div class="relative w-30 h-30 md:w-40 md:h-40 mb-6">
        {/* Decorative Margin Frame */}
        <div
            class="absolute inset-[-25%] z-0 pointer-events-none transition-all duration-700 ease-in-out scale-100 opacity-100 group-hover:scale-50 group-hover:opacity-0 group-hover:rotate-12 origin-center"
        >
            <img
                src="/margen.webp"
                alt=""
                class="w-full h-full object-contain drop-shadow-[0_0_20px_rgba(216,81,32,0.4)]"
            />
        </div>

        {/* Circular Image Container */}
        <div
            class="relative w-full h-full rounded-full overflow-hidden border-4 border-black z-10 shadow-2xl transition-all duration-300 group-hover:scale-105 group-hover:border-primary-500"
        >
            <img
                src={member.image}
                alt={member.name}
                class="w-full h-full object-cover object-top transition-transform duration-700 group-hover:scale-110 grayscale group-hover:grayscale-0"
                loading="lazy"
            />

            {/* Hover Overlay Bio */}
            <div
                class="absolute inset-0 bg-primary-600/90 flex flex-col justify-center items-center p-4 text-center z-20 scale-0 opacity-0 group-hover:scale-100 group-hover:opacity-100 transition-all duration-500 ease-out origin-center rounded-full"
            >
                <p
                    class="text-[10px] text-white leading-relaxed line-clamp-4 transform translate-y-4 group-hover:translate-y-0 transition-transform duration-500 delay-100 font-medium"
                >
                    {member.bio}
                </p>
                <div
                    class="mt-2 w-6 h-px bg-white/30 transform translate-y-4 group-hover:translate-y-0 transition-all duration-500 delay-150"
                >
                </div>
            </div>
        </div>
    </div>

    {/* Member Name & Role */}
    <div class="text-center z-20">
        <h3
            class="font-bold text-base text-white mb-1 group-hover:text-primary-400 transition-colors uppercase tracking-tight"
        >
            {member.name}
        </h3>
        <p
            class="text-[10px] md:text-xs text-primary-500 font-bold uppercase tracking-widest mb-1"
        >
            {role}
        </p>
        <p
            class="text-[10px] text-gray-400 font-medium uppercase tracking-wide"
        >
            {member.affiliation}
        </p>
    </div>
</div>
