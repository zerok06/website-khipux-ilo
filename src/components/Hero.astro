---
import heroData from "../data/hero.json";
import siteData from "../data/site.json";

interface Props {
  locale: string;
}

const { locale } = Astro.props;
const content = heroData[locale as keyof typeof heroData];
const isEs = locale === "es";

// Carousel images (auto-play only, no controls)
const carouselImages = [
  {
    src: "https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=600&h=600&fit=crop",
    title: "AiMara Lab",
    subtitle: isEs ? "IA para lenguas nativas" : "AI for native languages",
  },
  {
    src: "https://images.unsplash.com/photo-1677442136019-21780ecad995?w=600&h=600&fit=crop",
    title: "KHIPU 2025",
    subtitle: isEs ? "Conferencia de IA" : "AI Conference",
  },
  {
    src: "https://images.unsplash.com/photo-1591453089816-0fbb971b454c?w=600&h=600&fit=crop",
    title: isEs ? "Comunidad Aymara" : "Aymara Community",
    subtitle: isEs ? "Preservación cultural" : "Cultural preservation",
  },
  {
    src: "https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?w=600&h=600&fit=crop",
    title: "Machine Learning",
    subtitle: isEs ? "Tecnología avanzada" : "Advanced technology",
  },
];
---

<section class="relative min-h-screen h-screen pt-16 overflow-hidden bg-black">
  <!-- Decorative elements -->
  <div
    class="absolute top-20 right-0 w-96 h-96 bg-primary-500/10 rounded-full blur-3xl"
  >
  </div>
  <div
    class="absolute bottom-0 left-0 w-72 h-72 bg-primary-500/5 rounded-full blur-3xl"
  >
  </div>

  <div
    class="relative z-10 h-full flex items-center"
    style="max-width: var(--content-max-width, 70%); margin: 0 auto; padding: 0 1rem;"
  >
    <div class="grid lg:grid-cols-2 gap-12 items-center w-full">
      <!-- Left Content -->
      <div class="space-y-8">
        <!-- Event Type Badge -->
        <div
          class="inline-flex items-center gap-2 px-4 py-2 bg-primary-500/20 rounded-full"
        >
          <span class="w-2 h-2 bg-primary-500 rounded-full animate-pulse"
          ></span>
          <span class="text-sm font-medium text-primary-300"
            >{content.event_type}</span
          >
        </div>

        <div>
          <h1
            class="text-5xl md:text-6xl lg:text-7xl font-bold text-white leading-tight"
          >
            KHIPUx <span class="text-primary-500">Ilo</span>
          </h1>
          <p class="mt-3 text-xl text-gray-400 max-w-lg">
            {content.description}
          </p>
        </div>

        <a
          href="#register"
          class="inline-flex items-center gap-3 px-8 py-4 bg-primary-500 hover:bg-primary-600 text-white rounded-full font-semibold text-lg shadow-lg shadow-primary-500/30 transition-all hover:shadow-xl hover:shadow-primary-500/40 hover:scale-105"
        >
          <svg
            class="w-5 h-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"
            ></path>
          </svg>
          {content.cta_primary}
        </a>

        <!-- Event Info -->
        <div class="flex flex-wrap items-center gap-4">
          <div class="text-gray-400">
            <span class="font-medium text-white"
              >{siteData.location.city} | {siteData.location.country}</span
            >
            <br />
            <span class="text-sm"
              >{
                isEs ? "18 — 19 de Agosto | 2026" : "August 18 — 19 | 2026"
              }</span
            >
          </div>
        </div>
      </div>

      <!-- Right Side - Auto Image Carousel (no controls) -->
      <img src="/chiribaya.png" class="producto" />
    </div>
  </div>
</section>

<script is:inline>
  // Auto-play carousel (no controls)
  let currentSlide = 0;
  const slides = document.querySelectorAll(".carousel-slide");
  const totalSlides = slides.length;

  function nextSlide() {
    currentSlide = (currentSlide + 1) % totalSlides;

    slides.forEach((slide, i) => {
      if (i === currentSlide) {
        slide.classList.remove("opacity-0");
        slide.classList.add("opacity-100");
      } else {
        slide.classList.remove("opacity-100");
        slide.classList.add("opacity-0");
      }
    });
  }

  // Auto-play every 4 seconds
  setInterval(nextSlide, 4000);
</script>
