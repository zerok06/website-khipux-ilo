---
interface Props {
  locale: string;
}

const { locale } = Astro.props;
const isEs = locale === "es";

const content = {
  es: {
    tagline: "IA + comunidades Indígenas",
    title: "Donde la tecnología se encuentra con la tradición",
    description:
      "KHIPUx Ilo fusiona la Inteligencia Artificial con las comunidades Indígenas del Perú y América Latina. Exploramos cómo la IA puede preservar lenguas, revitalizar culturas y empoderar comunidades originarias.",
    highlights: [
      "Preservación de lenguas mediante IA",
      "NLP para lenguas de bajos recursos",
      "Empoderamiento tecnológico comunitario",
    ],
    organizer: "Organizado por",
  },
  en: {
    tagline: "AI + Indigenous Communities",
    title: "Where technology meets tradition",
    description:
      "KHIPUx Ilo merges Artificial Intelligence with the Indigenous communities from Peru and Latin America. We explore how AI can preserve languages, revitalize cultures, and empower indigenous communities.",
    highlights: [
      "Language preservation through AI",
      "NLP for low-resource languages",
      "Community technological empowerment",
    ],
    organizer: "Organized by",
  },
};

const data = isEs ? content.es : content.en;
import Wrapper from "./Wrapper.astro";
---

<section id="about" class="py-32 bg-bg relative overflow-hidden">
  <Wrapper class="relative z-10">
    <div class="grid lg:grid-cols-5 gap-16 items-start">
      <!-- Left Column: Main Content (3/5) -->
      <div class="lg:col-span-3 space-y-8">
        <!-- Tagline -->
        <div
          class="inline-flex items-center gap-3 text-primary-500 font-medium"
        >
          <div class="w-8 h-[2px] bg-primary-500"></div>
          <span class="uppercase tracking-widest text-sm">{data.tagline}</span>
        </div>

        <!-- Title -->
        <h2
          class="text-2xl md:text-3xl lg:text-4xl font-bold text-text font-heading leading-[1.1]"
        >
          {data.title}
        </h2>

        <!-- Description -->
        <p class="text-base text-gray-300 leading-relaxed max-w-2xl">
          {data.description}
        </p>

        <!-- Highlights as inline pills -->
        <div class="flex flex-wrap gap-3 pt-4">
          {
            data.highlights.map((item) => (
              <span class="px-4 py-2 bg-surface border border-gray-700 rounded-full text-sm text-gray-400">
                {item}
              </span>
            ))
          }
        </div>
      </div>

      <!-- Right Column: Image Carousel + Stats (2/5) -->
      <div class="lg:col-span-2 space-y-2">
        <!-- Image Carousel (Auto-rotating) -->
        <div
          class="relative aspect-[4/3] rounded-2xl overflow-hidden bg-surface border border-border"
        >
          <div class="carousel-container absolute inset-0">
            <img
              src="https://images.unsplash.com/photo-1531482615713-2afd69097998?w=600&h=450&fit=crop"
              alt="Community gathering"
              class="carousel-slide absolute inset-0 w-full h-full object-cover"
              style="animation-delay: 0s;"
            />
            <img
              src="https://images.unsplash.com/photo-1522071820081-009f0129c71c?w=600&h=450&fit=crop"
              alt="Tech collaboration"
              class="carousel-slide absolute inset-0 w-full h-full object-cover"
              style="animation-delay: 4s;"
            />
            <img
              src="https://images.unsplash.com/photo-1517048676732-d65bc937f952?w=600&h=450&fit=crop"
              alt="Conference session"
              class="carousel-slide absolute inset-0 w-full h-full object-cover"
              style="animation-delay: 8s;"
            />
          </div>
          <!-- Gradient overlay -->
          <div
            class="absolute inset-0 bg-gradient-to-t from-bg/60 via-transparent to-transparent"
          >
          </div>
        </div>

        <!-- Stats Grid -->
        <div class="grid grid-cols-3 gap-2">
          <div
            class="p-4 bg-surface border border-border rounded-xl text-center"
          >
            <div class="text-xl font-semibold text-primary-500 font-heading">
              150+
            </div>
            <div class="text-xs text-text-muted mt-1 uppercase tracking-wider">
              {isEs ? "Presencial" : "In-Person"}
            </div>
          </div>
          <div
            class="p-4 bg-surface border border-border rounded-xl text-center"
          >
            <div class="text-xl font-semibold text-primary-500 font-heading">
              100+
            </div>
            <div class="text-xs text-text-muted mt-1 uppercase tracking-wider">
              Virtual
            </div>
          </div>
          <div
            class="p-4 bg-surface border border-border rounded-xl text-center"
          >
            <div class="text-xl font-semibold text-primary-500 font-heading">
              4
            </div>
            <div class="text-xs text-text-muted mt-1 uppercase tracking-wider">
              {isEs ? "Países" : "Countries"}
            </div>
          </div>
        </div>

        <!-- Organizer Badge -->
        <div
          class="flex items-center gap-4 p-4 bg-primary-500/5 border border-primary-500/20 rounded-xl"
        >
          <div
            class="w-12 h-12 bg-primary-500 rounded-xl flex items-center justify-center"
          >
            <span class="text-white font-bold text-xl font-heading">A</span>
          </div>
          <div>
            <span class="text-text-subtle text-sm">{data.organizer}</span>
            <div class="text-text font-bold">AiMara Lab</div>
          </div>
        </div>
      </div>
    </div>
  </Wrapper>
</section>

<style>
  .carousel-slide {
    opacity: 0;
    animation: carousel-fade 12s infinite;
  }

  @keyframes carousel-fade {
    0%,
    8% {
      opacity: 0;
    }
    10%,
    30% {
      opacity: 1;
    }
    33%,
    100% {
      opacity: 0;
    }
  }
</style>
