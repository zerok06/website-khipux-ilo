---
import Layout from "../../layouts/Layout.astro";
import teamData from "../../data/team.json";
import MemberCard from "../../components/MemberCard.astro";

export function getStaticPaths() {
    return [{ params: { lang: "es" } }, { params: { lang: "en" } }];
}

const { lang } = Astro.params;
const isEs = lang === "es";
---

<Layout
    title={isEs ? "Equipo - Khipux" : "Team - Khipux"}
    lang={lang}
    description={isEs
        ? "Conoce al equipo organizador de KHIPUx Ilo 2026."
        : "Meet the organizing team of KHIPUx Ilo 2026."}
>
    <section class="pt-32 pb-24 bg-black min-h-screen">
        <div class="max-w-7xl mx-auto px-6 lg:px-8">
            <div class="text-center mb-20">
                <div
                    class="inline-flex items-center gap-3 text-primary-500 font-bold mb-4"
                >
                    <div class="w-12 h-[2px] bg-primary-500"></div>
                    <span class="uppercase tracking-widest text-sm">
                        {isEs ? "Organización" : "Organization"}
                    </span>
                    <div class="w-12 h-[2px] bg-primary-500"></div>
                </div>
                <h1
                    class="text-4xl md:text-5xl lg:text-6xl font-bold text-white font-heading uppercase tracking-tight"
                >
                    {isEs ? "Equipo Organizador" : "Organizing Team"}
                </h1>
                <p
                    class="mt-6 text-lg text-gray-400 max-w-2xl mx-auto leading-relaxed"
                >
                    {
                        isEs
                            ? "Conoce a las personas dedicadas que hacen posible KHIPUx Ilo."
                            : "Meet the dedicated people who make KHIPUx Ilo possible."
                    }
                </p>
            </div>

            <div class="space-y-32">
                {
                    teamData.map((commission) => (
                        <div class="relative">
                            {/* Commission Header */}
                            <div class="flex items-center gap-6 mb-16">
                                <div class="h-px flex-1 bg-gradient-to-r from-transparent via-primary-500/50 to-transparent" />
                                <h2 class="text-2xl md:text-3xl font-bold text-white uppercase tracking-widest text-center px-4 border-l-4 border-primary-500 pl-6">
                                    {isEs
                                        ? commission.name_es
                                        : commission.name_en}
                                </h2>
                                <div class="h-px flex-1 bg-gradient-to-r from-transparent via-primary-500/50 to-transparent" />
                            </div>

                            {/* 1. Coordinator (Top - Centered) */}
                            {commission.coordinator && (
                                <div class="flex justify-center mb-16">
                                    <MemberCard
                                        member={commission.coordinator}
                                        locale={lang}
                                    />
                                </div>
                            )}

                            {/* 2. Leads (Middle Row) */}
                            {commission.leads &&
                                commission.leads.length > 0 && (
                                    <div class="mb-12">
                                        <h3 class="text-sm font-bold text-primary-400 uppercase tracking-widest mb-20 text-center flex items-center justify-center gap-4">
                                            <span class="w-8 h-px bg-primary-500/50" />
                                            {isEs
                                                ? "Responsables de Área"
                                                : "Area Leads"}
                                            <span class="w-8 h-px bg-primary-500/50" />
                                        </h3>
                                        <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-12 justify-items-center">
                                            {commission.leads.map((member) => (
                                                <MemberCard
                                                    member={member}
                                                    locale={lang}
                                                />
                                            ))}
                                        </div>
                                    </div>
                                )}

                            {/* 3. Support (Bottom Row) */}
                            {commission.support &&
                                commission.support.length > 0 && (
                                    <div class="mt-12 pt-8 border-t border-white/10">
                                        <h3 class="text-sm font-bold text-gray-500 uppercase tracking-widest mb-8 text-center flex items-center justify-center gap-4">
                                            <span class="w-8 h-px bg-gray-700" />
                                            {isEs ? "Apoyo" : "Support"}
                                            <span class="w-8 h-px bg-gray-700" />
                                        </h3>
                                        <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-x-6 gap-y-10 justify-items-center">
                                            {commission.support.map(
                                                (member) => (
                                                    <MemberCard
                                                        member={member}
                                                        locale={lang}
                                                    />
                                                ),
                                            )}
                                        </div>
                                    </div>
                                )}
                        </div>
                    ))
                }
            </div>
        </div>
    </section>
</Layout>
