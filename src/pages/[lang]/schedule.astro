---
import Layout from "../../layouts/Layout.astro";
import Agenda from "../../components/Agenda";
import scheduleData from "../../data/schedule.json";

export function getStaticPaths() {
  return [{ params: { lang: "es" } }, { params: { lang: "en" } }];
}

const { lang } = Astro.params;
const isEs = lang === "es";
const title = isEs
  ? "Programa - KHIPUx Ilo 2026"
  : "Schedule - KHIPUx Ilo 2026";
---

<Layout
  title={title}
  lang={lang || "es"}
  description={isEs
    ? "Agenda y programa completo de KHIPUx Ilo 2026."
    : "Full agenda and schedule for KHIPUx Ilo 2026."}
>
  <div class="min-h-screen bg-bg text-text">
    <!-- Hero Section -->
    <section class="pt-32 pb-16 relative">
      <!-- Andean decoration -->
      <svg
        class="absolute top-20 right-10 w-32 h-32 text-white/[0.02]"
        viewBox="0 0 100 100"
        fill="currentColor"
      >
        <path
          d="M40 0h20v20h20v20h-20v20h20v20h-20v20h-20v-20h-20v-20h20v-20h-20v-20h20z"
        ></path>
      </svg>

      <div class="max-w-7xl mx-auto px-6 lg:px-8">
        <Agenda days={scheduleData.days} locale={lang || "es"} client:load />
      </div>
    </section>

    <!-- Download CTA -->
    <section class="py-16 border-t border-gray-800">
      <div class="max-w-3xl mx-auto px-6 text-center">
        <p class="text-gray-400 mb-6">
          {
            isEs
              ? "Descarga la agenda completa para tenerla a mano durante el evento."
              : "Download the complete schedule to have it handy during the event."
          }
        </p>
        <a
          href="#"
          class="inline-flex items-center gap-3 px-8 py-4 border border-border text-text hover:border-primary-500 hover:text-primary-500 rounded-xl font-bold text-lg transition-all group bg-surface"
        >
          <div
            class="p-2 bg-red-500/10 rounded-lg group-hover:bg-red-500/20 transition-colors"
          >
            <svg
              class="w-6 h-6 text-red-500"
              fill="none"
              viewBox="0 0 24 24"
              stroke="currentColor"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"
              ></path>
            </svg>
          </div>
          {isEs ? "Descargar PDF" : "Download PDF"}
        </a>
      </div>
    </section>
  </div>
</Layout>
